{"version":3,"sources":["webpack:///./src/view/my.vue?5835","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/view/my.vue","webpack:///./src/components/collection/collection.vue","webpack:///src/components/collection/collection.vue","webpack:///./src/components/collection/collection.vue?d1c8","webpack:///./src/components/collection/collection.vue?4508","webpack:///src/view/my.vue","webpack:///./src/view/my.vue?a501","webpack:///./src/view/my.vue?7180","webpack:///./src/components/search/search.vue","webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?0378","webpack:///./src/components/search/search.vue?7a7b","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/components/selectUser/index.vue?848d","webpack:///./src/components/search/search.vue?7465","webpack:///./src/components/collection/collection.vue?fad4","webpack:///./src/components/selectUser/index.vue","webpack:///src/components/selectUser/index.vue","webpack:///./src/components/selectUser/index.vue?659a","webpack:///./src/components/selectUser/index.vue?79b9"],"names":["module","exports","Object","is","x","y","render","_vm","this","_c","_self","staticClass","on","$event","chg","_v","attrs","list","type","staticRenderFns","_s","getTypeTitle","_l","item","index","key","stopPropagation","handleDelete","handleShare","content","text","_e","chatUrl","list_id","url","staticStyle","window","open","name","user_info","nickname","time","length","ref","handleOk","__gconf","components","selectUser","props","Array","default","Number","data","currentRow","methods","_objectSpread","mapActions","getList","_this","getUserStore","then","res","console","log","_this2","deleteStore","id","$message","success","$refs","title","_this3","textMsgs","list_ids","filter","map","join","content_type","current_list_id","JSON","stringify","component","collection","search","mounted","refreshFriend","directives","rawName","value","expression","domProps","change","target","composing","noText","haveText","del","handleCommand","slot","dialogVisible","handleSearch","model","input","callback","$$v","photoUrl","photo","add","active","computed","mapState","addGroup","users","user_id","fetchCharList","selectId","command","handleOpen","$store","dispatch","searchUser","val","$prompt","confirmButtonText","cancelButtonText","_ref","friendAdd","is_type","call","fixRegExpWellKnownSymbolLogic","anObject","isNullOrUndefined","requireObjectCoercible","sameValue","toString","getMethod","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","undefined","RegExp","string","rx","S","done","previousLastIndex","lastIndex","result","selectList","preventDefault","handleCheck","isSelect","$set","tip","selectedList","concat","handleSend","String","multiple","Boolean","includes","created","warning","every","forEach","getFriendList","keys","_this4","arguments","some","selectItem","$emit"],"mappings":"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","file":"js/chunk-aef18f10.1aa31fac.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./my.vue?vue&type=style&index=0&id=270ac28c&prod&lang=stylus&scoped=true&\"","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"collect-wrapper\"},[_c('div',{staticClass:\"item\",on:{\"click\":function($event){return _vm.chg(0)}}},[_vm._v(\"全部收藏\")]),_c('div',{staticClass:\"item\",on:{\"click\":function($event){return _vm.chg(4)}}},[_vm._v(\"视频\")]),_c('div',{staticClass:\"item\",on:{\"click\":function($event){return _vm.chg(3)}}},[_vm._v(\"语音\")]),_c('div',{staticClass:\"item\",on:{\"click\":function($event){return _vm.chg(2)}}},[_vm._v(\"图片\")]),_c('div',{staticClass:\"item\",on:{\"click\":function($event){return _vm.chg(11)}}},[_vm._v(\"文件\")])]),_c('div',{staticClass:\"collectinfo\"},[_c('collection',{attrs:{\"list\":_vm.list,\"type\":_vm.type}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-page\"},[_c('div',{staticClass:\"col-header\"},[_vm._v(_vm._s(_vm.getTypeTitle()))]),_c('div',{staticClass:\"col-list\"},[_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"col-item\"},[_c('i',{staticClass:\"el-icon-delete\",attrs:{\"title\":\"点击删除收藏\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDelete(item)}}}),_c('div',{staticClass:\"col-item_content\",attrs:{\"title\":\"点击转发收藏\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleShare(item)}}},[(item.type == 0)?_c('span',[_vm._v(_vm._s(item.content.text))]):_vm._e(),(item.type == 1)?_c('span',[_vm._v(_vm._s(item.content.text))]):_vm._e(),(item.type == 2)?_c('img',{attrs:{\"width\":\"166\",\"src\":_vm.chatUrl + item.list_id + '/' + item.content.url,\"alt\":\"\"}}):_vm._e(),(item.type == 3)?_c('span',[_c('audio',{attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.chatUrl + item.list_id + '/' + item.content.url,\"type\":\"audio/ogg\"}}),_c('source',{attrs:{\"src\":_vm.chatUrl + item.list_id + '/' + item.content.url,\"type\":\"audio/mpeg\"}}),_vm._v(\" 您的浏览器不支持 audio 元素。 \")])]):_vm._e(),(item.type == 4)?_c('span',[_c('video',{staticStyle:{\"width\":\"100px\"},attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.chatUrl + item.list_id + '/' + item.content.url,\"type\":\"video/mp4\"}})])]):_vm._e(),(item.type == 11)?_c('div',{attrs:{\"target\":\"_blank\"},on:{\"click222222\":function($event){$event.stopPropagation();return _vm.window.open(_vm.chatUrl + item.list_id + '/' + item.content.url,'_blank')}}},[_c('div',{staticClass:\"address-flex\"},[_c('div',{staticClass:\"address-name\"},[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(_vm._s(item.content && item.content.name))])])])]):_vm._e()]),_c('div',{staticClass:\"col-item_com\"},[_c('span',{staticClass:\"col-item_user\"},[_vm._v(_vm._s(item.user_info.nickname))]),_c('span',{staticClass:\"col-item_time\"},[_vm._v(_vm._s(item.time))])])])}),(_vm.list.length == 0)?_c('div',{staticClass:\"nodata\"},[_vm._v(\"没有更多收藏内容了~\")]):_vm._e()],2),_c('selectUser',{ref:\"selectUser\",attrs:{\"title\":\"消息转发\",\"tip\":\"分别转发给\"},on:{\"handleOk\":_vm.handleOk}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"col-page\">\r\n      <div class=\"col-header\">{{ getTypeTitle() }}</div>\r\n      <div class=\"col-list\">\r\n        <div\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n          class=\"col-item\"\r\n        >\r\n          <i\r\n            class=\"el-icon-delete\"\r\n            title=\"点击删除收藏\"\r\n            @click.stop=\"handleDelete(item)\"\r\n          ></i>\r\n          <div\r\n            class=\"col-item_content\"\r\n            title=\"点击转发收藏\"\r\n            @click.stop=\"handleShare(item)\"\r\n          >\r\n            <span v-if=\"item.type == 0\">{{ item.content.text }}</span>\r\n            <span v-if=\"item.type == 1\">{{ item.content.text }}</span>\r\n            <img\r\n              v-if=\"item.type == 2\"\r\n              width=\"166\"\r\n              :src=\"chatUrl + item.list_id + '/' + item.content.url\"\r\n              alt=\"\"\r\n            >\r\n            <span v-if=\"item.type == 3\">\r\n              <audio controls>\r\n                <source :src=\"chatUrl + item.list_id + '/' + item.content.url\" type=\"audio/ogg\">\r\n                <source :src=\"chatUrl + item.list_id + '/' + item.content.url\" type=\"audio/mpeg\">\r\n                您的浏览器不支持 audio 元素。\r\n              </audio>\r\n            </span>\r\n            <span v-if=\"item.type == 4\">\r\n              <video controls  style=\"width:100px;\">\r\n                <source :src=\"chatUrl + item.list_id + '/' + item.content.url\" type=\"video/mp4\">\r\n              </video>\r\n            </span>\r\n            <div v-if=\"item.type == 11\" target=\"_blank\" @click222222.stop=\"window.open(chatUrl + item.list_id + '/' + item.content.url,'_blank')\">\r\n              <div class=\"address-flex\">\r\n\t\t\t\t\t\t\t\t<div class=\"address-name\">\r\n\t\t\t\t\t\t\t\t\t<span style=\"font-size: 14px;\">{{item.content && item.content.name}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-item_com\">\r\n            <span class=\"col-item_user\">{{ item.user_info.nickname }}</span>\r\n            <span class=\"col-item_time\">{{ item.time }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"nodata\" v-if=\"list.length == 0\">没有更多收藏内容了~</div>\r\n      </div>\r\n      <selectUser\r\n        ref=\"selectUser\"\r\n        title=\"消息转发\"\r\n        tip=\"分别转发给\"\r\n        @handleOk=\"handleOk\"\r\n      ></selectUser>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { getUserStore, deleteStore, textMsgs } from '@/api'\r\n  import { mapActions } from 'vuex'\r\n  import selectUser from '@/components/selectUser'\r\n  const { chatUrl } = window.__gconf\r\n  export default {\r\n    components: {\r\n      selectUser\r\n    },\r\n    props: {\r\n        list: {\r\n            type: Array,\r\n            default: () => { }\r\n        },\r\n        type: {\r\n            type: Number,\r\n            default: () => { }\r\n        }\r\n    },\r\n    data () {\r\n      return {\r\n        chatUrl: chatUrl,\r\n        currentRow: {}\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'fetchCharList'\r\n      ]),\r\n      getList () {\r\n        getUserStore({type:this.type}).then(res => {\r\n          console.log(res)\r\n          this.list = res.data.data\r\n        })\r\n      },\r\n      handleDelete (item) {\r\n        deleteStore({\r\n          id: item.id\r\n        }).then(res => {\r\n          this.$message.success('删除成功')\r\n          this.getList()\r\n        })\r\n      },\r\n      handleShare (item) {\r\n        this.currentRow = {\r\n          ...item\r\n        }\r\n        this.$refs.selectUser.open()\r\n      },\r\n      getTypeTitle(){\r\n        var title =\"全部收藏\";\r\n        if(this.type == 1)title =\"文字\";\r\n        if(this.type == 2)title =\"图片\";\r\n        if(this.type == 3)title =\"语音\";\r\n        if(this.type == 4)title =\"视频\";\r\n        if(this.type == 11)title =\"文件\";\r\n        return title\r\n      },\r\n      handleOk (data) {\r\n        textMsgs({\r\n          list_ids: data.filter(item => item.list_id).map(item => {\r\n            return item.list_id\r\n          }).join(),\r\n          content_type: this.currentRow.type,\r\n          current_list_id: this.currentRow.list_id,\r\n          content: JSON.stringify(this.currentRow.content)\r\n        }).then(res => {\r\n          this.$message.success('转发成功')\r\n        })\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style lang=\"less\" scoped>\r\n  .col-page {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    .col-header {\r\n      height: 60px;\r\n      padding: 28px 0 0 10px;\r\n      box-sizing: border-box;\r\n      border-bottom: 1px solid #e7e7e7;\r\n    }\r\n    .nodata{\r\n        color:#999;\r\n        font-size: 12px;\r\n        padding:20px;\r\n        text-align: center;\r\n    }\r\n    .col-list {\r\n      padding: 0 10px 16px;\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      overflow-x: hidden;\r\n      .col-item {\r\n        padding: 16px 0;\r\n        width: 100%;\r\n        border-bottom: 1px solid #e6e6e6;\r\n        position: relative;\r\n        i {\r\n          position: absolute;\r\n          right: 0;\r\n          color: #adaeaf;\r\n          cursor: pointer;\r\n        }\r\n        &_content {\r\n          margin-bottom: 14px;\r\n          cursor: pointer;\r\n        }\r\n        &_com {\r\n          display: flex;\r\n          justify-content: center;\r\n          font-size: 12px;\r\n          color:#666;\r\n        }\r\n        &_user {\r\n          flex: 1;\r\n          font-size: 12px;\r\n          color:#666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  </style>\r\n  ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./collection.vue?vue&type=template&id=179a1d22&scoped=true&\"\nimport script from \"./collection.vue?vue&type=script&lang=js&\"\nexport * from \"./collection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collection.vue?vue&type=style&index=0&id=179a1d22&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"179a1d22\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"content\">\r\n    <div class=\"collect-wrapper\">\r\n      <!-- <search></search> -->\r\n      <div class=\"item\" @click=\"chg(0)\">全部收藏</div>\r\n      <div class=\"item\" @click=\"chg(4)\">视频</div>\r\n      <div class=\"item\" @click=\"chg(3)\">语音</div>\r\n      <div class=\"item\" @click=\"chg(2)\">图片</div>\r\n      <!-- <div class=\"item\" @click=\"chg(1)\">文字</div> -->\r\n      <div class=\"item\" @click=\"chg(11)\">文件</div>\r\n    </div>\r\n    <div class=\"collectinfo\">\r\n      <collection :list=\"list\" :type=\"type\"></collection>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport search from '@/components/search/search'\r\nimport collection from '@/components/collection/collection'\r\nimport { mapActions } from 'vuex'\r\nimport { getUserStore, deleteStore, textMsgs } from '@/api'\r\nexport default {\r\n  components: {\r\n    collection,\r\n    search\r\n  },\r\n  data () {\r\n    return {\r\n      list: [],\r\n      type:0\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    refreshFriend(){\r\n      \r\n    },\r\n    chg(type){\r\n      this.type = type\r\n      this.getList()\r\n    },\r\n    getList () {\r\n      getUserStore({\r\n\t\t\t\t\ttype:this.type\r\n\t\t\t\t}).then(res => {\r\n        console.log(res)\r\n        this.list = res.data.data\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.content\r\n  display flex\r\n  width calc(100vw - 60px)\r\n  height 100%\r\n  .collect-wrapper\r\n    width 260px\r\n    height 100%\r\n    background #fff\r\n    box-shadow 3px 0 8px -4px rgba(0,0,0,.1)\r\n    padding 10px\r\n    .item\r\n      background #007BFF\r\n      color #fff\r\n      margin-top 10px\r\n      padding 8px 10px\r\n      text-align center\r\n      border-radius 5px\r\n      cursor pointer\r\n      font-size 14px\r\n    .item:hover\r\n      background #1844d1\r\n  .collectinfo\r\n    // width 550px\r\n    width calc(100vh - 310px)\r\n    flex 1\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./my.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./my.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./my.vue?vue&type=template&id=270ac28c&scoped=true&\"\nimport script from \"./my.vue?vue&type=script&lang=js&\"\nexport * from \"./my.vue?vue&type=script&lang=js&\"\nimport style0 from \"./my.vue?vue&type=style&index=0&id=270ac28c&prod&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"270ac28c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"search-wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"searchInput\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索\"},domProps:{\"value\":(_vm.search)},on:{\"keyup\":_vm.change,\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noText),expression:\"noText\"}],staticClass:\"icon iconfont icon-search\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.haveText),expression:\"haveText\"}],staticClass:\"searchInput-delete\",on:{\"click\":_vm.del}})]),_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('div',{staticClass:\"add-wrapper\",attrs:{\"title\":\"发起群聊\"}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"a\"}},[_vm._v(\"添加好友\")]),_c('el-dropdown-item',{attrs:{\"command\":\"b\"}},[_vm._v(\"发起群聊\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加好友\",\"visible\":_vm.dialogVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"add-modal\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},on:{\"input\":_vm.handleSearch},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}}),(_vm.list.length == 0)?_c('el-empty',{attrs:{\"description\":\"暂无搜索结果\"}}):_c('div',{staticClass:\"userList\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"user-item\"},[_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"40\",\"height\":\"40\",\"src\":_vm.photoUrl + item.photo}}),_c('div',{staticClass:\"user-item_name\"},[_vm._v(_vm._s(item.nickname))]),_c('div',{staticClass:\"user-item_add\",on:{\"click\":function($event){return _vm.add(item)}}},[_vm._v(\"添加为好友\")])])}),0)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"确 定\")])],1)]),_c('selectUser',{ref:\"selectUser\",attrs:{\"title\":\"发起群聊\",\"tip\":\"\"},on:{\"handleOk\":_vm.handleOk}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 搜索框 -->\n<template>\n  <div class=\"wrapper\">\n    <div class=\"search-wrapper\">\n      <input\n        v-model=\"search\"\n        type=\"text\"\n        class=\"searchInput\"\n        placeholder=\"搜索\"\n        @keyup=\"change\"\n      >\n      <i\n        v-show=\"noText\"\n        class=\"icon iconfont icon-search\"\n      ></i>\n      <div\n        v-show=\"haveText\"\n        class=\"searchInput-delete\"\n        @click=\"del\"\n      ></div>\n    </div>\n\n    <el-dropdown @command=\"handleCommand\">\n      <div\n        class=\"add-wrapper\"\n        title=\"发起群聊\"\n      >\n        <i class=\"el-icon-plus\"></i>\n      </div>\n      <el-dropdown-menu slot=\"dropdown\">\n        <el-dropdown-item command=\"a\">添加好友</el-dropdown-item>\n        <el-dropdown-item command=\"b\">发起群聊</el-dropdown-item>\n      </el-dropdown-menu>\n    </el-dropdown>\n\n    <el-dialog\n      title=\"添加好友\"\n      :visible.sync=\"dialogVisible\"\n      width=\"500px\"\n    >\n      <div class=\"add-modal\">\n        <el-input\n          v-model=\"input\"\n          placeholder=\"请输入内容\"\n          @input=\"handleSearch\"\n        ></el-input>\n        <el-empty\n          v-if=\"list.length == 0\"\n          description=\"暂无搜索结果\"\n        ></el-empty>\n        <div\n          v-else\n          class=\"userList\"\n        >\n          <div\n            v-for=\"(item, index) in list\"\n            :key=\"index\"\n            class=\"user-item\"\n          >\n            <img\n              class=\"avatar\"\n              width=\"40\"\n              height=\"40\"\n              :src=\"photoUrl + item.photo\"\n            >\n            <div class=\"user-item_name\">{{ item.nickname }}</div>\n            <div\n              class=\"user-item_add\"\n              @click=\"add(item)\"\n            >添加为好友</div>\n          </div>\n        </div>\n      </div>\n      <span\n        slot=\"footer\"\n        class=\"dialog-footer\"\n      >\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"dialogVisible = false\"\n        >确 定</el-button>\n      </span>\n    </el-dialog>\n    <selectUser\n      ref=\"selectUser\"\n      title=\"发起群聊\"\n      tip=\"\"\n      @handleOk=\"handleOk\"\n    ></selectUser>\n  </div>\n</template>\n\n<script>\nimport { searchUser, friendAdd, addGroup } from '@/api'\nimport selectUser from '@/components/selectUser'\nimport { mapState, mapActions } from 'vuex'\nconst { photoUrl } = window.__gconf\nexport default {\n  components: {\n    selectUser\n  },\n  data () {\n    return {\n      search: '',\n      dialogVisible: false,\n      active: false,\n      input: '',\n      list: [],\n      photoUrl: photoUrl\n    }\n  },\n  computed: {\n    ...mapState([\n      'selectId'\n    ]),\n    noText () {\n      if (this.search === '') return true\n      return false\n    },\n    haveText () {\n      if (this.search === '') return false\n      return true\n    }\n  },\n  methods: {\n    ...mapActions([\n      'fetchCharList'\n    ]),\n    handleOk (data) {\n      addGroup({\n        users: JSON.stringify(data.map(item => {\n          return item.user_id\n        })),\n        list_id: 0\n      }).then(() => {\n        this.fetchCharList(this.selectId || '')\n      })\n    },\n    handleCommand (command) {\n      console.log(command)\n      if (command == 'a') {\n        this.handleOpen()\n      } else {\n        console.log(999)\n        this.$refs.selectUser.open()\n      }\n    },\n    handleOpen () {\n      this.list = []\n      this.input = ''\n      this.dialogVisible = true\n    },\n    change () {\n      this.$store.dispatch('search', this.search)\n    },\n    handleSearch () {\n      if (!this.input) return\n      searchUser({\n        val: this.input\n      }).then(res => {\n        this.list = res.data.data\n      })\n    },\n    del () {\n      this.search = ''\n      this.change()\n    },\n    add (item) {\n      this.$prompt('你需要发送验证申请,等对方通过', '朋友验证', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(({ value }) => {\n        friendAdd({\n          user_id: item.id,\n          is_type: 0,\n          content: value\n        }).then(res => {\n          this.$message.success('申请成功')\n          this.dialogVisible = false\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.userList\n  height 240px\n  padding 10px 0\n  overflow-y auto\n  margin-top 20px\n  border-top 1px solid #eee\n  .user-item\n    margin-bottom 10px\n    display flex\n    justify-content center\n    align-items center\n    padding 10px\n    border-bottom 1px solid #eee\n    &_name\n      flex 1\n      margin 0 12px\n    &_add\n      cursor pointer\n      color #66b1ff\n.wrapper\n  padding 22px 12px 12px 12px\n  display flex\n  background-color #fff\n  .add-wrapper\n    text-align center\n    line-height 28px\n    cursor pointer\n    width 28px\n    height 28px\n    border-radius 4px\n    background-color #f6f6f6\n.search-wrapper\n  margin-right 12px\n  flex 1\n  width calc(100% - 44px)\n  position relative\n  display flex\n  box-sizing border-box\n  height 28px\n  background-color #eee\n  border 1px solid #eee\n  border-radius 4px\n  .searchInput\n    flex 1\n    width calc(100% - 28px)\n    font-size 12px\n    padding 6px\n    background-color #f6f6f6\n    outline none\n  .icon-search\n    display inline-block\n    width 28px\n    height 28px\n    font-size 14px\n    line-height 28px\n    text-align center\n  .searchInput-delete\n    display block\n    position absolute\n    outline none\n    top 0\n    right 0\n    width 24px\n    height 100%\n    background-image url('delete.png')\n    background-size 26px\n    background-position center\n    background-repeat no-repeat\n    cursor pointer\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=5723ff74&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=5723ff74&prod&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5723ff74\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, SEARCH);\n      return searcher ? call(searcher, regexp, O) : new RegExp(regexp)[SEARCH](toString(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeSearch, rx, S);\n\n      if (res.done) return res.value;\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5e63e2c2&prod&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=5723ff74&prod&lang=stylus&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=style&index=0&id=179a1d22&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"select-content\"},[_c('div',{staticClass:\"select-content-left\"},[_c('div',{staticClass:\"select-content-header\"},[_c('el-input',{attrs:{\"placeholder\":\"搜索\",\"size\":\"mini\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('div',{staticClass:\"select-content-wrapper\"},_vm._l((_vm.selectList),function(item,index){return _c('div',{key:index,staticClass:\"select-item\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleCheck(item)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"40\",\"height\":\"40\",\"src\":_vm.photoUrl + item.photo}}),_c('div',{staticClass:\"select-item_name\"},[_vm._v(_vm._s(item.name))]),_c('el-checkbox',{staticClass:\"select-item_checkbox\",model:{value:(item.isSelect),callback:function ($$v) {_vm.$set(item, \"isSelect\", $$v)},expression:\"item.isSelect\"}})],1)}),0)]),_c('div',{staticClass:\"select-content-right\"},[_c('div',{staticClass:\"select-content-header\"},[_c('span',{staticClass:\"flex\"},[_vm._v(_vm._s(_vm.tip))]),_c('span',[_vm._v(_vm._s(_vm.selectedList.length == 0 ? '未选择聊天' : `已选择${_vm.selectedList.length}个聊天`))])]),_c('div',{staticClass:\"select-content-wrapper\"},_vm._l((_vm.selectedList),function(item,index){return _c('div',{key:index,staticClass:\"select-item\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleCheck(item)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"40\",\"height\":\"40\",\"src\":_vm.photoUrl + item.photo}}),_c('div',{staticClass:\"select-item_name\"},[_vm._v(_vm._s(item.name))]),_c('i',{staticClass:\"el-icon-error\"})])}),0)])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSend}},[_vm._v(\"确 定\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    :visible.sync=\"dialogVisible\"\r\n    width=\"600px\"\r\n  >\r\n    <div class=\"select-content\">\r\n      <div class=\"select-content-left\">\r\n        <div class=\"select-content-header\">\r\n          <el-input\r\n            v-model=\"search\"\r\n            placeholder=\"搜索\"\r\n            size=\"mini\"\r\n            prefix-icon=\"el-icon-search\"\r\n          ></el-input>\r\n        </div>\r\n        <div class=\"select-content-wrapper\">\r\n          <div\r\n            v-for=\"(item, index) in selectList\"\r\n            :key=\"index\"\r\n            class=\"select-item\"\r\n            @click.stop.prevent=\"handleCheck(item)\"\r\n          >\r\n            <img\r\n              class=\"avatar\"\r\n              width=\"40\"\r\n              height=\"40\"\r\n              :src=\"photoUrl + item.photo\"\r\n            >\r\n            <div class=\"select-item_name\">{{ item.name }}</div>\r\n            <el-checkbox\r\n              v-model=\"item.isSelect\"\r\n              class=\"select-item_checkbox\"\r\n            ></el-checkbox>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"select-content-right\">\r\n        <div class=\"select-content-header\">\r\n          <span class=\"flex\">{{ tip }}</span>\r\n          <span>{{ selectedList.length == 0 ? '未选择聊天' : `已选择${selectedList.length}个聊天` }}</span>\r\n        </div>\r\n        <div class=\"select-content-wrapper\">\r\n          <div\r\n            v-for=\"(item, index) in selectedList\"\r\n            :key=\"index\"\r\n            class=\"select-item\"\r\n            @click.stop.prevent=\"handleCheck(item)\"\r\n          >\r\n            <img\r\n              class=\"avatar\"\r\n              width=\"40\"\r\n              height=\"40\"\r\n              :src=\"photoUrl + item.photo\"\r\n            >\r\n            <div class=\"select-item_name\">{{ item.name }}</div>\r\n            <i class=\"el-icon-error\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <span\r\n      slot=\"footer\"\r\n      class=\"dialog-footer\"\r\n    >\r\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"handleSend\"\r\n      >确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getFriendList } from '@/api'\r\nimport { mapState } from 'vuex'\r\nconst { photoUrl } = window.__gconf\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    tip: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: [],\r\n      dialogVisible: false,\r\n      result: [],\r\n      search: '',\r\n      photoUrl: photoUrl\r\n    }\r\n  },\r\n  computed: {\r\n    selectList () {\r\n      return this.list.filter(item => item.name.includes(this.search))\r\n    },\r\n    selectedList () {\r\n      return this.list.filter(item => item.isSelect)\r\n    }\r\n  },\r\n  created () {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    handleCheck (data) {\r\n      if (this.default.includes(data.user_id)) {\r\n        this.$message.warning('该用户已被邀请')\r\n        return\r\n      }\r\n      if (!this.multiple && !this.list.every(item => !(item.user_id != data.user_id && item.isSelect))) {\r\n        this.$message.warning('仅能分享单个用户')\r\n        return\r\n      }\r\n      this.list.forEach((item, index) => {\r\n        if (item.user_id == data.user_id) {\r\n          this.$set(this.list[index], 'isSelect', !this.list[index].isSelect)\r\n        }\r\n      })\r\n    },\r\n    getList () {\r\n      getFriendList().then(res => {\r\n        const data = res.data.data\r\n        let result = []\r\n        Object.keys(data).forEach(key => {\r\n          result = result.concat(data[key].data)\r\n        })\r\n        this.list = result.map(item => {\r\n          return {\r\n            ...item,\r\n            isSelect: false\r\n          }\r\n        })\r\n      })\r\n    },\r\n    open (list = []) {\r\n      getFriendList().then(res => {\r\n        const data = res.data.data\r\n        let result = []\r\n        Object.keys(data).forEach(key => {\r\n          result = result.concat(data[key].data)\r\n        })\r\n        this.list = result.map(item => {\r\n          return {\r\n            ...item,\r\n            isSelect: false\r\n          }\r\n        })\r\n\r\n        this.default = list\r\n        this.list.forEach((item) => {\r\n          if (this.default.some(selectItem => selectItem == item.user_id)) {\r\n            item.isSelect = true\r\n          } else {\r\n            item.isSelect = false\r\n          }\r\n        })\r\n        this.dialogVisible = true\r\n      })\r\n    },\r\n    handleSend () {\r\n      if (this.selectedList.length == 0) {\r\n        this.$message.warning('请选择人员')\r\n        return\r\n      }\r\n      this.$emit('handleOk', this.selectedList)\r\n      this.dialogVisible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.select-content {\r\n  width: 100%;\r\n  display: flex;\r\n  .select-content-left,\r\n  .select-content-right {\r\n    flex: 1;\r\n    padding: 0 10px;\r\n  }\r\n  .select-content-left {\r\n    border-right: 1px solid #eee;\r\n  }\r\n  &-header {\r\n    // height: 40px;\r\n    margin-bottom: 12px;\r\n    display: flex;\r\n    .flex {\r\n      flex: 1;\r\n    }\r\n  }\r\n  &-wrapper {\r\n    height: 260px;\r\n    overflow-y: auto;\r\n  }\r\n  .select-item {\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 12px;\r\n    border-radius: 6px;\r\n    &:hover {\r\n      background-color: #dcdcdc;\r\n    }\r\n    &_name {\r\n      flex: 1;\r\n      margin: 0 12px;\r\n    }\r\n    .el-icon-error {\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5e63e2c2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5e63e2c2&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e63e2c2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}